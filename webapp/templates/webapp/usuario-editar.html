{% extends "base.html" %}
{% block content %} 
{% load widget_tweaks %}
<!-- Content Row -->
<!-- Toastr -->
{% load static %}
{% block stylesheet %}
      <link rel="stylesheet" href="{% static 'webapp/plugins/toastr/toastr.min.css' %}">    
{% endblock %}
<div class="col-xl-12 col-md-12 mb-12">
  <div class="card shadow mb-3">
    <div class="card-header py-3">
      <h6 class="m-0 font-weight-bold text-primary">Editar Usuario {{ usuario.id }}</h6>
    </div>
    <div class="card-body">
        <p>En este formulario usted podra editar el usuario que selecciono</p>
    </div>
    <div class="card-body">
      <form method="POST" class="editarUsuarioForm">{% csrf_token %}
        <div class="form-group">
          <!-- Links de interes 
            https://github.com/jazzband/django-widget-tweaks  
            https://getbootstrap.com/docs/4.4/components/forms/
           -->
           <div class="form-group">
            <label for="{{form.nombre.label}}">{{form.nombre.label}}</label>
            {%if form.nombre.errors %}
              {% render_field form.nombre class="form-control is-invalid" %}
                {% for error in form.nombre.errors %}
                <script>
                  $('').ready(function() {
                    toastr.error('{{ error }}','Nombre')
                  });
                </script>
                {% endfor %}
            {% else %}
              {% render_field form.nombre class="form-control" %}
            {% endif %}
          </div>
          <div class="form-group">
            <label for="{{form.apellido.label}}">{{form.apellido.label}}</label>
            {%if form.apellido.errors %}
              {% render_field form.apellido class="form-control is-invalid" %}
                {% for error in form.apellido.errors %}
                <script>
                  $('').ready(function() {
                    toastr.error('{{ error }}','Apellido')
                  });
                </script>
                {% endfor %}
            {% else %}
              {% render_field form.apellido class="form-control" %}
            {% endif %}
          </div>
          <div class="form-group">
            <label for="{{form.email.label}}">{{form.email.label}}</label>
            {%if form.email.errors %}
              {% render_field form.email class="form-control is-invalid" %}
                {% for error in form.email.errors %}
                <script>
                  $('').ready(function() {
                    toastr.error('{{ error }}','Email')
                  });
                </script>
                {% endfor %}
            {% else %}
              {% render_field form.email class="form-control" %}
            {% endif %}
          </div>

          <!-- <textarea class="form-control" rows="3" placeholder="Enter ..."></textarea> -->

          <div class="form-group">
            <label for="{{form.telefono.label}}">{{form.telefono.label}}</label>
            {%if form.telefono.errors %}
              {% render_field form.telfono class="form-control is-invalid" %}
                {% for error in form.telefono.errors %}
                <script>
                  $('').ready(function() {
                    toastr.error('{{ error }}','Telefono')
                  });
                </script>
                {% endfor %}
            {% else %}
              {% render_field form.telefono class="form-control" %}
            {% endif %}
            </div>                    
            <button type='submit' class="btn btn-primary btn-lg mt-2 mb-2">Guardar</button>
            </div>
            </form>
          {% block javascripts %}       
          </script>
          <script src="{% static 'webapp/plugins/toastr/toastr.min.js' %}"></script>
          <script>
            toastr.options = {
              "closeButton": true,
              "debug": false,
              "newestOnTop": false,
              "positionClass": "toast-top-right",
              "preventDuplicates": true,
              "onclick": null,
              "showDuration": "300",
              "hideDuration": "1000",
              "timeOut": "9000",
              "extendedTimeOut": "1000",
              "showEasing": "swing",
              "hideEasing": "linear",
              "showMethod": "fadeIn",
              "hideMethod": "fadeOut",  
            }
            </script>
          {% endblock %} 
    </div>
  </div>
</div>
<!-- End Content Row -->
<!-- InputMask -->
{% endblock %}
